# Проект: Mesto (frontend + backend)

Репозиторий для приложения проекта Mesto, включающий фронтенд и бэкенд части приложения со следующими возможностями: авторизации и регистрации пользователей, операции с карточками и пользователями. Бэкенд расположен в директории backend/, а фронтенд - в frontend/.

## Оглавление

- [Обзор проекта](#обзор-проекта)
  - [Задачи проекта](#задачи-проекта)
  - [Функциональность проекта](#функциональность-проекта)
  - [Директории проекта](#директории-проекта)
  - [Запуск проекта](#запуск-проекта)
  - [Ссылки на проект](#ссылки-на-проект)
- [Ход выполнения проекта](#ход-выполнения-проекта)
  - [Технологии](#технологии)
  - [Приобретённый опыт](#приобретённый-опыт)
  - [Инструкция по установке](#инструкция-по-установке)

## Обзор проекта

### Задачи проекта

Задача проекта: закрепить все ранее полученные в рамках учебного курса знания и создать полностью рабочее веб-приложение, разместив его на хостинге.

### Функциональность проекта

- Backend:
  - В проекте созданы схемы и модели пользователей и карточек с контентом:
    - `card` — схема карточки с контентом
    - `user` — схема пользователя
  - В проекте созданы эндпоинты:
    - `/cards` — обрабатывает:
      - GET запросы — отдаёт все карточки из БД
      - POST запросы — создаёт новую карточку с контентом
    - `/cards/:cardId` — обрабатывает DELETE запросы, удаляет карточку по `cardId`
    - `/cards/:cardId/likes` — обрабатывает:
      - PUT запросы — добавляет лайк карточке с контентом
      - DELETE запросы — удаляет лайк карточке с контентом
    - `/signin` — обрабатывает POST запросы, производит аутентификацию пользователя
    - `/signup` — обрабатывает POST запросы, производит регистрацию пользователя
    - `/users` — обрабатывает:
      - GET запросы — отдаёт всех пользователей из БД
      - POST запросы — создаёт нового пользователя
    - `/users/:userId` — обрабатывает GET запросы, отдаёт пользователя по `userId`
    - `/users/me` — обрабатывает:
      - GET запросы — отдаёт информацию о текущем пользователе
      - PATCH запросы — обновляет информацию о пользователе
      - DELETE запросы — производит выход пользователя, с удалением JWT-токена из Cookie
    - `/users/me/avatar` — обрабатывает PATCH запросы, обновляет аватар пользователя
  - Созданы мидлвары:
    - Централизованной обработки ошибок
    - Авторизации пользователя
    - Ограничитель количества запросов (защита от DDoS атак)
    - Поддержки CORS запросов, включая обработку предварительных запросов
    - Логирования запросов и ошибок
  - Производится валидация поступающих данных:
    - до передачи информации контроллерам с помощью joi и celebrate
    - на уровне схем с помощью validator и встроенных методов mongoose
- Frontend:
  - Возможность регистрации и аутентификации пользователя
  - Возможность редактировать информацию о пользователе (установить имя пользователя, информацию «о себе», аватар)
  - Возможность создавать карточки мест (добавить\удалить карточку места, поставить\снять лайк карточке)
  - Возможность просматривать детальную фотографию карточки
  - Реализована валидация форм с помощью кастомного хука

### Директории проекта

- `/backend` — директория с файлами бэкенд части проекта
  - `/controllers` — директория с файлами контроллеров
  - `/errors` — директория с файлами кастомных ошибок
  - `/middlewares` — директория с мидлварами
  - `/models` — директория с файлами описания схем и моделей
  - `/routes` — директория с файлами роутера
  - `/utils` — директория со вспомогательными файлами
- `/frontend` — директория с файлами фронтенд части проекта
  - `src/blocks` — директория с CSS файлами
  - `src/components` — директория с компонентами
  - `src/contexts` — директория с элементами контекста
  - `src/fonts` — директория со шрифтами
  - `src/images` — директория с файлами изображений
  - `src/utils` — директория со вспомогательными файлами
  - `src/vendor` — директория с файлами библиотек

### Запуск проекта

- Backend:
  - `npm lint` — запускает проверку линтером
  - `npm run start` — запускает сервер
  - `npm run dev` — запускает сервер с hot-reload
- Frontend:
  - `npm run build` — запуск проекта в режиме продакшн, с формированием файлов подготовленных к деплою в директории `/build`
  - `npm start` — запуск проекта в режиме разработки

### Ссылки на проект

- [Ссылка на страницу проекта](https://react.mesto.nomoredomainsicu.ru/)
- [Ссылка на API сервер проекта](https://api.react.mesto.nomoredomainsicu.ru/)

## Ход выполнения проекта

### Технологии

### Frontend
![JavaScript](https://img.shields.io/badge/-JavaScript-090909?style=for-the-badge&logo=JavaScript)
![React](https://img.shields.io/badge/-React-090909?style=for-the-badge&logo=React) 
![CSS3](https://img.shields.io/badge/-CSS3-090909?style=for-the-badge&logo=CSS3)
![HTML5](https://img.shields.io/badge/-HTML5-090909?style=for-the-badge&logo=HTML5)
### Backend
![Express](https://img.shields.io/badge/-Express-090909?style=for-the-badge&logo=Express)
![Node.js](https://img.shields.io/badge/-Node.js-090909?style=for-the-badge&logo=Node.js)
![MongoDB](https://img.shields.io/badge/-MongoDB-090909?style=for-the-badge&logo=MongoDB)
![Postman](https://img.shields.io/badge/-Postman-090909?style=for-the-badge&logo=Postman)

### Приобретённый опыт

- Разворот сервера на Node.js
- Использование в работе фреймворк Express
- Использование в работе с БД ODM mongoose
- Работе с CORS
- Деплой проекта на настоящий хостинг

---

### Публичный IP-адрес: 158.160.37.105

---

# Инструкция по установке:
1. Клонировать репозиторий 
`https://github.com/IlyaSaenko/react-mesto-api-full-gha.git`
2. Установить зависимости:
`cd react-mesto-api-full`
`npm install`
3. Запустить приложение в режиме разработки:
`npm run start`
`npm run dev`